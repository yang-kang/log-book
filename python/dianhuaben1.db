#!/usr/bin/python
# -*- coding: UTF-8 -*-


import MySQLdb
#f=open("data1","r")

str0=raw_input("请输入用户名：")
str1=raw_input("请输入密码：")
str2=raw_input("请输入数据库名：")
str3=raw_input("请输入数据库表名：")
#f.close()

db=MySQLdb.connect("localhost",str0,str1,str2)

cursor=db.cursor()

while (1):
	m=raw_input( "请用户选择：0.退出，1.添加，2.修改，3.删除,4.查询：")
	if m=="0":
		break
	if m=="1":
		name=raw_input("请输入姓名：")
		sex=raw_input("请输入性别：")
		relation=raw_input("请输入关系：")
		tel = raw_input("请输入电话：")
		sql="insert into "+str3+"(name,sex,relation,tel) values('"+name+"','"+sex+"','"+relation+"','"+tel+"');"
		cursor.execute(sql)
	if m=="2":
		up_name1=raw_input("请输入要改的内容：")
		up_name2=raw_input("请输入要改得地方：")
		sql="update "+str3+" set "+up_name1+" where "+up_name2
		cursor.execute(sql)
	if m=="3":
		de_name=raw_input("请输入要删除的信息：")
		sql="delete from "+str3+" where "+de_name
		cursor.execute(sql)
	if m=="4":
		n=raw_input("请输入要查询的姓名或电话：")
		sql="select * from "+str3+" where "+n
		cursor.execute(sql)
		results=cursor.fetchall()
		for row in results:
			fname=row[0]
			fsex=row[1]
			frelation=row[2]
			ftel=row[3]
			print "name=%s,sex=%s,relation=%s,tel=%s" % (fname,fsex,frelation,ftel)
	db.commit()
db.close()
